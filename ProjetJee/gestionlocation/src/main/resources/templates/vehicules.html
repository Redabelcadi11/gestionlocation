<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nos Véhicules - EAZYRENT</title>
  <script src="https://cdn.tailwindcss.com"></script> <!-- Intégration de Tailwind CSS -->
</head>
<body class="bg-gray-100 font-sans antialiased">
<!-- Navbar -->
<header class="bg-blue-600 text-white p-4 shadow-md">
  <div class="container mx-auto flex justify-between items-center">
    <a href="/home" class="text-xl font-semibold hover:text-yellow-300 transition duration-200">
      EAZYRENT
    </a>
    <nav class="space-x-4">
      <div th:if="${#authentication?.authenticated}">
        <a href="/logout" class="px-4 py-2 bg-red-500 hover:bg-red-700 rounded-md">Déconnexion</a>
      </div>
      <div th:unless="${#authentication?.authenticated}">
        <a href="/login" class="px-4 py-2 bg-blue-500 hover:bg-blue-700 rounded-md">Connexion</a>
        <a href="/register" class="px-4 py-2 bg-green-500 hover:bg-green-700 rounded-md">Inscription</a>
      </div>
    </nav>
  </div>
</header>



<!-- Filters Section -->
<section class="container mx-auto py-8">
  <form action="/vehicules" method="GET" class="bg-white p-6 rounded-lg shadow-md flex flex-wrap gap-4">
    <!-- Filtre par catégorie -->
    <div>
      <label for="categorie" class="block text-gray-700 font-semibold mb-2">Catégorie</label>
      <select name="categorie" id="categorie" class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
        <option value="">Toutes les catégories</option>
        <th:block th:each="categorie : ${categories}">
          <option th:value="${categorie.nom}" th:text="${categorie.nom}"></option>
        </th:block>
      </select>
    </div>
    <!-- Filtre par modèle -->
    <div>
      <label for="modele" class="block text-gray-700 font-semibold mb-2">Modèle</label>
      <input type="text" name="modele" id="modele" placeholder="Rechercher un modèle"
             class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
    </div>
    <!-- Bouton de soumission -->
    <div class="flex items-end">
      <button type="submit" class="px-4 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700">
        Appliquer les filtres
      </button>
    </div>
  </form>
</section>

<!-- Liste des véhicules -->
<main class="container mx-auto py-8">
  <h2 class="text-3xl font-semibold text-center text-blue-700 mb-6">Nos véhicules disponibles</h2>
  <ul class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
    <th:block th:each="vehicule : ${vehicules}">
      <li>
        <a th:href="@{'/vehicules/' + ${vehicule.id}}" class="block bg-white rounded-lg shadow-lg overflow-hidden transform transition hover:scale-105 hover:shadow-2xl">
          <img th:src="${vehicule.imageUrl}" alt="Image du véhicule" class="w-full h-56 object-cover"/>
          <div class="p-6">
            <h3 class="text-lg font-bold text-gray-800 mb-2" th:text="${vehicule.modele}"></h3>
            <p class="text-sm text-gray-500 mb-4" th:text="${vehicule.immatriculation}"></p>
            <p class="mt-2 text-blue-600 font-semibold">Catégories :</p>
            <ul class="mt-2 text-sm text-gray-600 space-y-1">
              <th:block th:each="categorie : ${vehicule.categories}">
                <li class="px-2 py-1 bg-blue-100 text-blue-700 rounded-full inline-block" th:text="${categorie.nom}"></li>
              </th:block>
            </ul>
          </div>
        </a>
      </li>
    </th:block>
  </ul>
</main>


<!-- Footer -->
<footer class="bg-blue-600 text-white p-6 mt-12">
  <div class="container mx-auto text-center">
    <p>&copy; 2024 <span class="font-bold">EAZYRENT</span>. Tous droits réservés.</p>
  </div>
</footer>

</body>
</html>
